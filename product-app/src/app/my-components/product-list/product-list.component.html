<div style="height: 100%" fxLayout.lt-sm="column wrap" fxLayout.gt-xs="row">

  <div style="padding-left:35px" fxHide.lt-sm="true" fxLayout="column" fxLayoutAlign="space-between center" fxFlex="50"
    style="height:555px">

    <div fxHide.lt-sm="true" class="card">

      <div class="content">

        <h2 class="product-list-title">Portfolio</h2>
        <p class="product-list-subtitle">All your
          accounts at a glance</p>
      </div>

      <div class="image-wrapper">
        <img src="./assets/images/icons/woman.png" alt="Illustration" class="illustration">
      </div>
    </div>

    <button fxHide.lt-sm="true" class="card-button">VIEW ALL OUR PRODUCTS</button>
  </div>


  <div fxHide.gt-xs="true" fxFlex="16" fxLayoutAlign="start end" class="product-list-title-mobile-container">

    <p class="product-list-title-mobile">Porfolio</p>
  </div>

  <div fxLayout="column" fxFlex="50">

    <div class="product-item-section">
      <!-- Loop through the grouped product names -->
      <ng-container *ngFor="let productGroup of groupedProducts | keyvalue">
        <div class="product-group">
          <h2>
            {{
            productGroup.key }}
          </h2> <!-- Product Title -->

          <!-- Loop through the products under the same title -->
          <ng-container *ngFor="let product of productGroup.value">

            <mat-card (click)="onProductClick(product,  productGroup.key)">

              <div>

                <div fxFlex="1.5" [ngStyle]="{
                  'height.px': 140,
                  'width.px': 8,
                  'background-color': colorMapping[productGroup.key] || '#000',
                  'border-radius': '20px'
                }"> </div>


                <div fxLayout="column" fxFlex="50" style="padding-left: 15px;" fxLayoutAlign="start space-between ">

                  <div style="padding-top: 30px;">

                    <p class="product-title-nickname">{{ product.titleNickname || 'Standard LOREM IPSUM'}}</p>
                    <p class="product-subtitle">{{ product.subtitle }}</p>
                  </div>

                  <div style="padding-top: 10px;">
                    <div class="home-card-container" fxLayoutAlign="center center">
                      <mat-card class="home-card" fxLayoutAlign="center center">
                        <img [src]="product.thumbnailUrl" alt="Product Icon">
                      </mat-card>
                    </div>
                  </div>
                </div>

                <div fxLayout="column" fxFlex="49" fxLayoutAlign="end end">

                  <p class="product-details-status">
                    {{ product.status === 'Active' ? 'active' : 'disabled' }}
                  </p>


                  <p class="product-details-price">
                    {{ (product.balance | number: '1.2-2') + ' ' + product.currencyCode }}
                  </p>
                </div>
              </div>
            </mat-card>
          </ng-container>
        </div>
      </ng-container>

      <div fxHide.gt-xs="true" class="round-button" fxLayoutAlign="center center">
        <mat-icon style="color:white" matTooltip="Add Product">add
        </mat-icon>
      </div>
    </div>

    <div class="footer" fxLayout="column" fxLayoutAlign="end center" fxHide.lt-sm="true" fxFlex.gt-xs="33">
      <pre>imprint   |   Legal resource   |   Data Protection   |   Accessibility</pre>
      <div>
        Copyright Â©
        2020 Millenia BANK
      </div>
    </div>
  </div>
</div>
