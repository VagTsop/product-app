<div style="height: 100%" fxLayout="row">

  <div style="padding-left:35px" fxLayout="column" fxLayoutAlign="space-between center" fxFlex="50"
    style="height:555px">

    <div class="card">

      <div class="content">

        <h2 style="font-weight: 400; font-size: 40px; line-height:40px; font-family:Roboto">Portfolio</h2>
        <p style="font-weight: 500; font-size: 18px; line-height:40px; font-family:Roboto;color: #D84E91;">All your
          accounts at a glance</p>
      </div>

      <div class="image-wrapper">
        <img src="./assets/images/icons/woman.png" alt="Illustration" class="illustration">
      </div>
    </div>

    <button class="card-button">VIEW ALL OUR PRODUCTS</button>

  </div>

  <div fxLayout="column" fxFlex="50">

    <div class="product-section">
      <!-- Loop through the grouped product names -->
      <ng-container *ngFor="let productGroup of groupedProducts | keyvalue">
        <div class="product-group">
          <h2
            style="font-family:Roboto; font-weight: 500;font-size: 14px;line-height: 23.8px;color: #2E3275; margin-top: 35px;">
            {{
            productGroup.key }}
          </h2> <!-- Product Title -->

          <!-- Loop through the products under the same title -->
          <ng-container *ngFor="let product of productGroup.value">

            <mat-card>

              <div fxLayout="row">

                <div fxLayout="column" fxFlex="1" [ngStyle]="{
                  'height.px': 140,
                  'width.px': 8,
                  'background-color': colorMapping[productGroup.key] || '#000',
                  'border-radius': '20px'
                }"> </div>


                <div fxLayout="column" fxFlex="50" style="padding-left: 30px;">
                  <p style="font-family:Roboto; font-weight: 400;font-size: 12px;line-height: 15.96px;color: #3D429A;">
                    {{ product.titleNickname }}</p>

                  <!-- Use title or nickname -->
                  <p style="font-weight: 500;font-size: 16px;line-height: 24px;color: #2E3275;">{{ product.subtitle }}
                  </p>

                  <div style="background-color: #F4F5FB;width: 57.42px;height:39.21px" fxLayoutAlign="center center">
                    <img [src]="product.thumbnailUrl" alt="Product Icon">
                  </div>
                </div>

                <div fxLayout="column" fxFlex="49" fxLayoutAlign="end end">

                  <p style="font-family:Roboto; font-weight: 400;font-size: 12px;line-height: 15.96px;color: #6267C1;;">
                    {{ product.status === 'Active' ? 'active' : 'disabled' }}
                  </p>


                  <p style="font-family:Roboto; font-weight: 700;font-size: 16px;line-height: 18.75px;color: #2E3275;"
                    class="price">{{ (product.balance | number: '1.2-2') + ' ' + product.currencyCode }}</p>
                  <!-- Display balance with currency -->
                </div>
              </div>
            </mat-card>
          </ng-container>
        </div>
      </ng-container>
    </div>
  </div>
</div>
